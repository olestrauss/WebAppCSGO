(function() {
    "use strict";
    var navbar = document.querySelector("#mainNav");

    if (navbar) {
        var collapse = navbar.querySelector(".navbar-collapse");

        if (collapse) {
            var bsCollapse = new bootstrap.Collapse(collapse, { toggle: false });
            var links = collapse.querySelectorAll("a");

            for (var link of links) {
                link.addEventListener("click", function(e) {
                    bsCollapse.hide();
                });
            }
        }

        var handleScroll = function() {
            var scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;

            if (scrollY > 100) {
                navbar.classList.add("navbar-shrink");
            } else {
                navbar.classList.remove("navbar-shrink");
            }
        };

        handleScroll();

        document.addEventListener("scroll", handleScroll);
    }
})();
